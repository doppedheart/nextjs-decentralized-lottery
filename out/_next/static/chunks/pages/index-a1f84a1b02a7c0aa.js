(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(60072)}])},60072:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var a=n(85893),s=n(67294),i=n(83078),u=n(41942),r=()=>(0,a.jsx)("div",{children:(0,a.jsx)(u.cg,{moralisAuth:!1})}),p=JSON.parse('{"31337":["0xB7f8BC63BbcaD18155201308C8f3540b07f84F5e"],"11155111":["0xed01245e2F35E29646aC972c93ED61B1C0134156"]}'),o=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"vrfCoordinatorV2"},{"type":"uint256","name":"entranceFee"},{"type":"bytes32","name":"_gasLane"},{"type":"uint64","name":"subscriptionId"},{"type":"uint32","name":"callbackGasLimit"},{"type":"uint256","name":"interval"}]},{"type":"error","name":"OnlyCoordinatorCanFulfill","inputs":[{"type":"address","name":"have"},{"type":"address","name":"want"}]},{"type":"error","name":"Raffle__NotEnoughEthEntered","inputs":[]},{"type":"error","name":"Raffle__NotOpen","inputs":[]},{"type":"error","name":"Raffle__TransferFailed","inputs":[]},{"type":"error","name":"Raffle__UpkeepNotNeeded","inputs":[{"type":"uint256","name":"currentBalance"},{"type":"uint256","name":"numPlayers"},{"type":"uint256","name":"raffleState"}]},{"type":"event","anonymous":false,"name":"RaffleEnter","inputs":[{"type":"address","name":"player","indexed":true}]},{"type":"event","anonymous":false,"name":"RequestRandomWinner","inputs":[{"type":"uint256","name":"requestId","indexed":true}]},{"type":"event","anonymous":false,"name":"WinnerPicked","inputs":[{"type":"address","name":"winner","indexed":true}]},{"type":"function","name":"checkUpkeep","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"bytes"}],"outputs":[{"type":"bool","name":"upkeepData"},{"type":"bytes"}]},{"type":"function","name":"enterRaffle","constant":false,"stateMutability":"payable","payable":true,"inputs":[],"outputs":[]},{"type":"function","name":"getEntranceFee","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getInterval","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLastTimeStamp","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumWords","constant":true,"stateMutability":"pure","payable":false,"inputs":[],"outputs":[{"type":"uint32"}]},{"type":"function","name":"getNumberOfPlayers","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getPlayer","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"index"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getRaffleState","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint8"}]},{"type":"function","name":"getRecentWinner","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"getRequestConfirmation","constant":true,"stateMutability":"pure","payable":false,"inputs":[],"outputs":[{"type":"uint16"}]},{"type":"function","name":"performUpkeep","constant":false,"payable":false,"inputs":[{"type":"bytes"}],"outputs":[]},{"type":"function","name":"rawFulfillRandomWords","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"requestId"},{"type":"uint256[]","name":"randomWords"}],"outputs":[]}]');let l=()=>{let{chainId:e,isWeb3Enabled:t}=(0,i.Nr)(),n=parseInt(e),r=(0,u.aa)(),l=n in p?p[n][0]:null,[c,y]=(0,s.useState)(""),[f,d]=(0,s.useState)(""),[m,b]=(0,s.useState)(""),{runContractFunction:h,isLoading:w,isFetching:v}=(0,i.JX)({abi:o,contractAddress:l,functionName:"enterRaffle",params:{},msgValue:c}),{runContractFunction:x}=(0,i.JX)({abi:o,contractAddress:l,functionName:"getEntranceFee",params:{}}),{runContractFunction:g}=(0,i.JX)({abi:o,contractAddress:l,functionName:"getNumberOfPlayers",params:{}}),{runContractFunction:N}=(0,i.JX)({abi:o,contractAddress:l,functionName:"getRecentWinner",params:{}}),_=async e=>{await e.wait(1),R(e),E()};async function E(){let e=(await x()).toString(),t=(await g()).toString(),n=await N();b(n),d(t),y(e)}let R=e=>{r({type:"info",message:"transaction complete!",title:"transaction notification",position:"topR",icon:"bell"})};return(0,s.useEffect)(()=>{t&&E()},[t]),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:"Lottery"}),l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-auto",onClick:async()=>await h({onSuccess:_,onError:e=>console.log(e)}),disabled:w||v,children:w||v?(0,a.jsx)("div",{className:"animate-spin spinner-border h-8 w-8 border-b-2 rounded-full"}):"Enter Raffle"}),(0,a.jsxs)("div",{children:["Entrance Fee: ",c," WEI"]}),(0,a.jsxs)("div",{children:["The current number of players is: ",f]}),(0,a.jsxs)("div",{children:["The most previous winner was: ",m]})]}):(0,a.jsx)("div",{children:"Please connect to a supported chain "})]})};function c(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{}),(0,a.jsx)(l,{})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=75557)}),_N_E=e.O()}]);